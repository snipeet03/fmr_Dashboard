{% extends 'app/base.html' %}

{% block title %}Date Range{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 80vh;">
    <div class="text-center">
        <!-- Blue Center Card -->
        <form method="post" action="" class="custom-card shadow">
            {% csrf_token %}
            <h4 class="mb-3"><i class="bi bi-calendar-range"></i> Select Date Range</h4>
            <p class="mb-4">Please choose the start and end date and data type to generate your customized report.</p>
            
            <div class="mb-3 text-start">
                <label for="dataType" class="form-label">Select Data Type</label>
                <select class="form-select" id="dataType" name="data_type" required>
                    <option value="" disabled {% if not data_type %}selected{% endif %}>Select type</option>
                    <option value="dsla" {% if data_type == 'dsla' %}selected{% endif %}>DSLA</option>
                    <option value="cr" {% if data_type == 'cr' %}selected{% endif %}>CR</option>
                </select>
            </div>

            <div class="mb-3 text-start">
                <label for="startDate" class="form-label">Start Date</label>
                <input type="date" class="form-control" id="startDate" name="start_date" value="{{ start_date }}" required>
            </div>
            <div class="mb-3 text-start">
                <label for="endDate" class="form-label">End Date</label>
                <input type="date" class="form-control" id="endDate" name="end_date" value="{{ end_date }}" required>
            </div>
            
            <!-- Bigger Green Rectangular Button with Icon -->
            <button type="submit" class="btn btn-success btn-lg w-100 mt-3">
                <i class="bi bi-download me-2"></i> Download Report
            </button>
        </form>

        {% if error %}
            <div class="alert alert-danger mt-3" role="alert">
                {{ error }}
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}

{% block extra_head %}
<!-- Bootstrap CSS CDN -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    .custom-card {
        background-color: #0d6efd;
        padding: 40px;
        border-radius: 12px;
        color: white;
        width: 400px;
        text-align: center;
        margin: 0 auto;
    }
    .download-btn {
        margin-top: 20px;
    }
    .form-label {
        color: #fff;
    }
</style>
{% endblock %}